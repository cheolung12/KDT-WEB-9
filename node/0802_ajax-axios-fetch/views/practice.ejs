<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        fieldset{
            width: 300px;
        }
    </style>
     <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>실습 29. axios get 회원가입</h1>
    <form name="register">
        <label for="userName">이름 </label>
        <input type="text" id="userName"/>
        <fieldset>
            <legend>성별</legend>
            <input type="radio" name="gender" value="남자" required>남자</input>
            <input type="radio" name="gender" value="여자" required>여자</input>
        </fieldset>
        <br />
        <fieldset>
            <legend>생년월일</legend>
            <select name="year" >
                <option value="2010">2010</option>
                <option value="1997">1997</option>
                <option value="2012">2012</option>
            </select>
            <span>년</span>
            <select name="month" >
                <option value="1">1</option>
                <option value="12">12</option>
                <option value="3">3</option>
            </select>
            <span>월</span>
            <select name="day" >
                <option value="1">1</option>
                <option value="10">10</option>
                <option value="3">3</option>
            </select>
            <span>일</span>
        </fieldset>
        <br />
        <fieldset>
            <legend>관심사</legend>
            <input type="checkbox" name="favorite" value="여행">여행</input>
            <input type="checkbox" name="favorite" value="패션">패션</input>
            <input type="checkbox" name="favorite" value="음식">음식</input>
        </fieldset>
        <br />
        <button type="button" onclick="axiosGet()">회원가입</button>
    </form>
    <script>
        function axiosGet(){
            const form = document.forms["register"];
            const checkbox = document.querySelectorAll('input[name="favorite"]:checked');
            let checked = [];
            checkbox.forEach((e) => checked.push(e.value));
            const data = {
                name: form.userName.value,
                gender: form.gender.value,
                year: form.year.value,
                month: form.month.value,
                day: form.day.value,
                favorite: checked,
            };
            axios({
                method: "GET",
                url: "axios",
                params: data,
            }).then((res) => {
                console.log('axios get 전송완료');
                console.log(res.data);
            });
        }
    </script>
</body>
</html>